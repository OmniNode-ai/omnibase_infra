contract_version: "1.0.0"
node_version: "1.0.0" 
version: "1.0.0"
node_name: "node_infrastructure_health_monitor_orchestrator"
contract_name: "NodeInfrastructureHealthMonitorOrchestratorContract" 
name: "node_infrastructure_health_monitor_orchestrator"
node_type: "ORCHESTRATOR"
description: "Infrastructure Health Monitor Orchestrator for centralized health aggregation and monitoring coordination"

input_model: "ModelInfrastructureHealthMonitorInput"
output_model: "ModelInfrastructureHealthMonitorOutput"

dependencies:
  # ONEX Container dependency injection
  - name: "model_onex_container"
    type: "model"
    class_name: "ModelONEXContainer"
    module: "omnibase_core.model.model_onex_container"
  
  # Shared infrastructure models
  - name: "model_infrastructure_health_metrics"
    type: "model"
    class_name: "ModelInfrastructureHealthMetrics"
    module: "omnibase_infra.models.infrastructure.model_infrastructure_health_metrics"
  
  # Circuit breaker integration
  - name: "model_circuit_breaker_metrics"
    type: "model"
    class_name: "ModelCircuitBreakerMetrics"
    module: "omnibase_infra.models.circuit_breaker.model_circuit_breaker_metrics"

definitions:
  ModelInfrastructureHealthMonitorInput:
    type: "object"
    properties:
      operation_type:
        type: "string"
        enum: ["comprehensive_health_check", "get_health_trends", "start_monitoring", "stop_monitoring", "get_prometheus_metrics"]
        description: "Type of health monitoring operation to perform"
      correlation_id:
        type: "string"
        format: "uuid"
        description: "Correlation ID for the operation"
      environment:
        type: "string"
        description: "Environment configuration (development, staging, production)"
        default: "development"
      time_period_hours:
        type: "integer"
        description: "Time period in hours for trend analysis"
        minimum: 1
        default: 1
      monitoring_interval_seconds:
        type: "integer"
        description: "Monitoring interval in seconds"
        minimum: 10
        default: 30
    required:
      - operation_type
      - correlation_id

  ModelInfrastructureHealthMonitorOutput:
    type: "object"
    properties:
      success:
        type: "boolean"
        description: "Whether the operation succeeded"
      operation_type:
        type: "string"
        description: "Type of operation that was performed"
      correlation_id:
        type: "string"
        format: "uuid"
        description: "Correlation ID from the request"
      result:
        type: "object"
        description: "Operation-specific result data"
      error_message:
        type: "string"
        description: "Error message if operation failed"
      health_metrics:
        $ref: "#/definitions/ModelInfrastructureHealthMetrics"
        description: "Current infrastructure health metrics"
      monitoring_active:
        type: "boolean"
        description: "Whether continuous monitoring is active"
      timestamp:
        type: "string"
        format: "date-time"
        description: "Response timestamp"
    required:
      - success
      - operation_type
      - correlation_id
      - monitoring_active
      - timestamp

  ModelInfrastructureHealthMetrics:
    type: "object"
    description: "Infrastructure health metrics model (external dependency)"