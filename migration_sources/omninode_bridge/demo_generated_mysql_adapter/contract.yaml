# NodeMysqlEffect Contract - ONEX v2.0 Compliant
# Generated: 2025-10-30

# Required fields for ModelContractEffect
name: "mysql"
version:
  major: 1
  minor: 0
  patch: 0
description: "Create a MySQL database adapter Effect node with the following features:
    - Connection pooling (10-100 connections)
    - Automatic retry logic with exponential backoff (max 3 retries)
    - Circuit breaker pattern for resilience
    - Full CRUD operations: Create, Read, Update, Delete, List, BulkInsert
    - Transaction support with rollback capability
    - Prepared statements for SQL injection prevention
    - Connection health monitoring
    - Structured logging with query metrics
    - Async/await support for all operations"
node_type: "EFFECT"

# Input/Output Models (required by omnibase_core) - must be strings (model class names)
input_model: "ModelMysqlRequest"
output_model: "ModelMysqlResponse"

# Tool specification (required by omnibase_core)
tool_specification:
  tool_name: "mysql"
  main_tool_class: "omninode_bridge.nodes.mysql.v1_0_0.node.NodeMysqlEffect"

# IO operations for EFFECT node (required)
# Each operation follows ModelIOOperationConfig schema
io_operations:
  - operation_type: "database_query"
    atomic: true
    timeout_seconds: 30
    validation_enabled: true


# Legacy fields for compatibility
node_name: mysql
node_version:
  major: 1
  minor: 0
  patch: 0

contract_name: mysql_contract
author: OmniNode Code Generation
created_at: "2025-10-30"

# Core Metadata
metadata:
  domain: "database"
  generated: true
  generated_at: "2025-10-30T11:00:41.855167+00:00"
  tags:
    - "connection_pooling"
    - "retry_logic"
    - "circuit_breaker"
    - "logging"
    - "metrics"

# Operations supported by this node
operations:
  - "create"
  - "read"
  - "update"
  - "delete"

# Performance Requirements
performance_requirements:
  execution_time:
    target_ms: 100
    max_ms: 1000
  memory_usage:
    target_mb: 128
    max_mb: 512

# Testing Requirements
testing:
  unit_tests:
    coverage_target: 85
    required: true
  integration_tests:
    required: true
